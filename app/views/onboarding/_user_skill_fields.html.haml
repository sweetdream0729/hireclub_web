.nested-fields
  .row
    .col-7
      .form-group{class: ('has-danger' if f.object.errors.any?)}
        = f.label :skill
        = f.text_field :skills, class: "autocomplete_skill", value: f.object.skill.present? ? f.object.skill.name : ''
        = f.hidden_field :skill_id, class: "autocomplete_skill_id", value: f.object.skill.present? ? f.object.skill_id : ''
        - if f.object.errors.any? && f.object.errors.details[:skill].present?
          .form-control-feedback
            = f.object.errors.full_messages.first

    .col-3
      .form-group
        = f.label :years
        = f.number_field :years, class: "form-control", min: 0, max: 50
    .col-1
      .form-group
        %label
          &nbsp;
        = link_to_remove_association f, class: "btn btn-default" do
          .text-danger
            %i.fa.fa-trash-o


:coffeescript
  if(window.initilize_typehead)
    $('.autocomplete_skill').typeahead('destroy');
    window.initilize_typehead();
